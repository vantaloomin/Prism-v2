<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Prism - Gacha Collection</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tabs.css">
    <link rel="stylesheet" href="frames.css">
    <link rel="stylesheet" href="holos.css">
    <link rel="stylesheet" href="collection.css">
    <link rel="stylesheet" href="focus.css">
    <link rel="stylesheet" href="games.css">
    <link rel="stylesheet" href="landing.css">
</head>

<body>
    <!-- Landing Page / Main Menu -->
    <div class="landing-page" id="landing-page">
        <div class="landing-bg"></div>

        <!-- Credits display -->
        <div class="landing-credits">
            <span class="credits-icon">üíé</span>
            <span class="credits-amount" id="landing-credits-amount">1000</span>
        </div>

        <!-- Options button -->
        <button class="landing-options" id="btn-options">
            <span>‚öôÔ∏è</span>
            <span>Options</span>
        </button>

        <!-- Title -->
        <div class="landing-title">
            <h1>‚ú¶ PRISM ‚ú¶</h1>
            <p class="landing-subtitle">Gacha Collection</p>
        </div>

        <!-- Main Menu Cards -->
        <div class="landing-menu">
            <div class="menu-card" data-menu="games" id="menu-games">
                <div class="menu-card-icon">üéÆ</div>
                <div class="menu-card-label">Games</div>
            </div>
            <div class="menu-card" data-menu="shop" id="menu-shop">
                <div class="menu-card-icon">üéÅ</div>
                <div class="menu-card-label">Open Packs</div>
            </div>
            <div class="menu-card" data-menu="collection" id="menu-collection">
                <div class="menu-card-icon">üìö</div>
                <div class="menu-card-label">Collection</div>
            </div>
        </div>
    </div>

    <!-- Home Button (visible when not on landing) -->
    <button class="home-btn hidden" id="btn-home">
        <span>üè†</span>
        <span>Home</span>
    </button>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">‚ú¶ Project Prism ‚ú¶</h1>
            <div class="credits-display">
                <span class="credits-icon">üíé</span>
                <span id="credits-amount">1000</span>
                <span class="credits-label">Credits</span>
            </div>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-nav">
            <button class="tab-btn active" id="tab-shop" data-tab="shop">
                <span class="tab-icon">üéÅ</span>
                <span class="tab-label">Open Pack</span>
            </button>
            <button class="tab-btn" id="tab-games" data-tab="games">
                <span class="tab-icon">üéÆ</span>
                <span class="tab-label">Games</span>
            </button>
            <button class="tab-btn" id="tab-collection" data-tab="collection">
                <span class="tab-icon">üìö</span>
                <span class="tab-label">Collection</span>
                <span class="tab-badge" id="collection-badge">0</span>
            </button>
        </nav>

        <!-- Tab Content: Shop -->
        <main class="tab-content active" id="tab-content-shop">
            <div class="game-stage" id="game-stage">
                <div class="pack-shop" id="pack-shop">
                    <h2 class="shop-title">‚úß Pack Shop ‚úß</h2>
                    <div class="pack-buttons">
                        <button class="pack-button waifu-pack" id="btn-waifu-pack" data-pack-type="waifu">
                            <div class="pack-icon">üå∏</div>
                            <div class="pack-name">Waifu Pack</div>
                            <div class="pack-cost">üíé 100</div>
                        </button>
                        <button class="pack-button husbando-pack" id="btn-husbando-pack" data-pack-type="husbando">
                            <div class="pack-icon">‚öîÔ∏è</div>
                            <div class="pack-name">Husbando Pack</div>
                            <div class="pack-cost">üíé 100</div>
                        </button>
                        <button class="pack-button waifu-pack" id="btn-debug-pack" data-pack-type="debug"
                            style="border-color: #ffd700; background: linear-gradient(145deg, rgba(20,20,20,0.9), rgba(50,40,0,0.9));">
                            <div class="pack-icon">‚ö°</div>
                            <div class="pack-name">God Pack</div>
                            <div class="pack-cost">üíé 100</div>
                        </button>
                        <button class="pack-button waifu-pack" id="btn-debug-frame-pack" data-pack-type="debug-frame"
                            style="border-color: #a855f7; background: linear-gradient(145deg, rgba(20,20,20,0.9), rgba(40,0,50,0.9));">
                            <div class="pack-icon">üñºÔ∏è</div>
                            <div class="pack-name">Frame Test</div>
                            <div class="pack-cost">üíé 50</div>
                        </button>
                        <button class="pack-button waifu-pack" id="btn-debug-holo-pack" data-pack-type="debug-holo"
                            style="border-color: #3b82f6; background: linear-gradient(145deg, rgba(20,20,20,0.9), rgba(0,40,50,0.9));">
                            <div class="pack-icon">‚ú®</div>
                            <div class="pack-name">Holo Test</div>
                            <div class="pack-cost">üíé 150</div>
                        </button>
                    </div>
                </div>

                <!-- Card Display Area -->
                <div class="card-display-area" id="card-display-area"></div>

                <!-- Pack Animation Container -->
                <div class="pack-animation-container" id="pack-animation-container" hidden>
                    <div class="pack-wrapper">
                        <div class="pack-image" id="pack-image"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Tab Content: Collection -->
        <section class="tab-content" id="tab-content-collection">
            <div class="collection-header">
                <h2 class="collection-title">‚úß My Collection ‚úß</h2>
                <div class="collection-stats">
                    <span class="stat-item">
                        <span class="stat-value" id="unique-count">0</span>
                        <span class="stat-label">Unique</span>
                    </span>
                    <span class="stat-divider">|</span>
                    <span class="stat-item">
                        <span class="stat-value" id="total-count">0</span>
                        <span class="stat-label">Total Cards</span>
                    </span>
                </div>
                <div class="collection-controls">
                    <label class="toggle-switch">
                        <input type="checkbox" id="toggle-animations" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Animations</span>
                    </label>
                    <button class="reset-button" id="btn-reset">Reset Save</button>
                </div>
            </div>

            <!-- Collection Grid (sorted by rarity) -->
            <div class="collection-container" id="collection-container">
                <!-- Cards will be rendered here, grouped and sorted -->
            </div>
        </section>

        <!-- Tab Content: Games -->
        <section class="tab-content" id="tab-content-games">
            <div class="game-stage">
                <div class="games-container">
                    <div class="games-header">
                        <h2 class="games-title">‚úß Mini Games ‚úß</h2>
                        <p class="games-subtitle">Challenge the AI and test your luck!</p>
                    </div>
                    <div class="game-selection" id="games-selection-container">
                        <!-- Game cards will be rendered by games.js -->
                    </div>
                    <div class="game-play-area" id="games-play-area">
                        <!-- Active game content will be rendered here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Card Focus Overlay -->
        <div class="card-focus-overlay" id="card-focus-overlay" hidden>
            <div class="focus-backdrop"></div>
            <div class="focus-container">
                <div class="focus-card-wrapper" id="focus-card-wrapper">
                    <!-- Focused card will be cloned here -->
                </div>
                <div class="focus-info" id="focus-info">
                    <!-- Card info will go here -->
                </div>
            </div>
            <button class="focus-close-btn" id="focus-close-btn">‚úï Close</button>
            <div class="focus-hint">Move mouse to interact with holographic effects</div>
        </div>
    </div>

    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

    <script src="shader-engine.js"></script>
    <script src="animations.js"></script>
    <script src="pack-logic.js"></script>
    <script src="games.js"></script>
    <script src="game.js"></script>
</body>

</html>